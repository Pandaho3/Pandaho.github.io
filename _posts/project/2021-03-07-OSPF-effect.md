---
title: ospf具体是什么作用？
author: Pandaho
date: 2021-03-07 20:00:00 
categories: [Project] 
tags: [ospf]
image: /assets/img/OSPF-effect/cover.png
---



## 首先每一台路由器中都存在一个路由表，路由表的定义是：

在[计算机网络](https://www.wiki-wiki.top/baike-计算机网络)中，**路由表**（routing table）或称**路由择域信息库**（RIB, Routing Information Base），是一个存储在[路由器](https://www.wiki-wiki.top/baike-路由器)或者联网计算机中的电子表格（文件）或[类数据库](https://www.wiki-wiki.top/w/index.php?title=类数据库&action=edit&redlink=1)。路由表存储着指向特定网络地址的路径（在有些情况下，还记录有路径的[路由度量值](https://www.wiki-wiki.top/w/index.php?title=路由度量值&action=edit&redlink=1)）。路由表中含有网络周边的[拓扑](https://www.wiki-wiki.top/baike-拓扑)信息。路由表创建的主要目标是为了实现[路由协议](https://www.wiki-wiki.top/baike-路由协议)和静态路由选择。

所以要创建个路由表，你需要用路由协议来生成，而路由协议分动态、静态。

**静态路由**（英语：Static routing），一种[路由](https://www.wiki-wiki.top/baike-路由)的方式，路由项（routing entry）由手动配置，而非动态决定。与[动态路由](https://www.wiki-wiki.top/w/index.php?title=動態路由&action=edit&redlink=1)不同，静态路由是固定的，不会改变，即使网络状况已经改变或是重新被组态。一般来说，静态路由是由[网络管理员](https://www.wiki-wiki.top/baike-網絡管理員)逐项加入[路由表](https://www.wiki-wiki.top/baike-路由表)。

**动态路由协议**通过路由信息的交换生成并维护转发引擎所需的路由表。当[网络拓扑结构](https://baike.baidu.com/item/网络拓扑结构/4136060)改变时动态路由协议可以自动更新路由表，并负责决定数据传输最佳路径。

## 而OSPF就是动态路由协议的一种，RFC2328的定义：

OSPF 是一种连接状态/link-state 路由协议，被设计用于单一的自制系统/Autonomous System 中。每个 OSPF 路由器都维持着同样的数据库以描述 AS 的拓扑结构，并以此数据库来创建最短路径树并计算路由表。

OSPF 在发现拓扑改变后，仅利用很少的路由流量就可以快速的重新计算出路径。OSPF 提供等值多路径。通过提供区域/area 路径，来提供额外的路径保护并可以减少协议所需要的流量。此外，所有的 OSPF 路由信息交换都经过验证。

。

。。

。。。

*这便是ospf的具体作用…………………………*

**附RFC2328对于ospf的概述：**

OSPF 仅通过在 IP 包头中的目标地址来转发 IP 包。IP 包在 AS 中被转发，而没有被其他协议再次封装。OSPF 是一种动态路由协议，它可以快速地探知 AS 中拓扑的改变（例如路由器接口的失效），并在一段时间的收敛后计算出无环路的新路径。收敛的时间很短且只使用很小的路由流量。

在连接状态路由协议中，每台路由器都维持着一个数据库以描述 AS 的拓扑结构。这个数据库被称为连接状态数据库，所有参与的路由器都有着同样的数据库。数据库中的各项说明了特定路由器自身的状态（如该路由器的可用接口和可以到达的邻居）。该路由器通过洪泛 /flooding 将其自身的状态传送到整个 AS 中。

所有的路由器同步地运行完全相同的算法。根据连接状态数据库，每台路由器构建出一棵以其自身为树根的最短路径树。最短路径树给出了到达 AS 中各个目标的路径，路由信息的起源在树中表现为树叶。

当有多条等值的路径到达同一目标时，数据流量将在这些路径上平均分摊。路径的距离值表现为一个无量纲数。

OSPF 允许将一些网络组合到一起。这样的组被称为区域/area。区域对 AS 中的其他部分隐藏其内部的拓扑结构，信息的隐藏极大地减少了路由流量。同时，区域内的路由仅由区域自身的拓扑来决定，这可使区域抵御错误的路由信息。区域通常是一个子网化了的 IP 网络。

OSPF 允许灵活的配置 IP 子网。由 OSPF 发布的每条路径都包含目标和掩码。同一个 IP 网络的两个子网可以有不同的大小（即不同的掩码），这常被称为变长子网/variable length subnetting。数据包按照最佳匹配（最长匹配）来转发。主机路径被看作掩码为“全 1” （0xffffffff）的子网来处理。

OSPF 协议中所有的信息交换都经过验证。这意味着，在 AS 中只有被信任的路由器才能参与路由。有多种验证方法可以被选择。事实上，可以为每个 IP 子网选用不同的验证方法。

来源于外部的路由信息（如路由器从诸如 BGP［引用 23］的外部网关协议中得到的路径） 向整个 AS 内部宣告。外部数据与 OSPF 协议的连接状态数据相对独立。每条外部路径可以由所宣告的路由器作出标记，在自制系统边界路由器（ASBR）之间传递额外的信息。